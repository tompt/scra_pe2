!function(){"undefined"==typeof window.console&&(window.console={log:function(){},error:function(){},warn:function(){}});var t={pt:{main_bsu:[{text:"Mail",lang:{en_US:"Mail"},href:"http://mail.sapo.pt",liclass:"bsu-v2-highlight"},{text:"\xdateis",lang:{en_US:"Services"},href:null,liclass:null,has_submenu:!0,submenu:[{text:"V\xeddeos",href:"http://videos.sapo.pt",mhref:"http://m.videos.sapo.pt",lang:{en_US:"Videos"}},{text:"Blogs",href:"http://blogs.sapo.pt",mhref:"http://m.blogs.sapo.pt",lang:{en_US:"Blogs"}},{text:"Tempo",href:"http://tempo.sapo.pt",mhref:"http://m.tempo.sapo.pt",lang:{en_US:"Weather"}},{text:"Farm\xe1cias",href:"http://farmacias.sapo.pt",mhref:"http://m.farmacias.sapo.pt",lang:{en_US:"Pharmacies"}},{text:"Pesquisa",href:"http://pesquisa.sapo.pt",lang:{en_US:"Search"}},{text:"Transferir Ficheiros",href:"https://transfer.sapo.pt/",lang:{en_US:"Transfer"}}]},{text:"Not\xedcias",lang:{en_US:"News"},href:null,liclass:null,has_submenu:!0,submenu:[{text:"Not\xedcias Atualidade",href:"http://www.sapo.pt/noticias/atualidade",lang:{en_US:"Breaking news"}},{text:"SAPO 24",href:"http://24.sapo.pt",lang:{en_US:"SAPO 24"}},{text:"SAPO Jornais",href:"http://24.sapo.pt/jornais",lang:{en_US:"Newspapers"}},{text:"SAPO Desporto",href:"http://desporto.sapo.pt",mhref:"http://m.desporto.sapo.pt",lang:{en_US:"Sports"}},{text:"Tek",href:"http://tek.sapo.pt",exclude_partner:["impresa"],lang:{en_US:"Tek"}}]},{text:"Vida",lang:{en_US:"Life"},href:null,liclass:null,has_submenu:!0,submenu:[{text:"Lifestyle",href:"http://lifestyle.sapo.pt",lang:{en_US:"Lifestyle"}},{text:"Mag",href:"http://mag.sapo.pt",lang:{en_US:"Mag"}},{text:"Viagens",href:"http://viagens.sapo.pt/",lang:{en_US:"Travel"}}]},{text:"Compras",lang:{en_US:"Shopping"},href:null,liclass:null,has_submenu:!0,submenu:[{text:"SAPO Voucher",href:"http://voucher.sapo.pt",lang:{en_US:"SAPO Voucher"}},{text:"Auto SAPO Oficinas",href:"http://auto.sapo.pt/oficinas",lang:{en_US:"Garages"}},{text:"Auto SAPO Venda J\xe1",href:"http://auto.sapo.pt/VendaJa",lang:{en_US:"Cars"}},{text:"Ticketline",href:"http://ticketline.sapo.pt",lang:{en_US:"Tickets"}},{text:"SAPO Promos",href:"http://promos.sapo.pt",lang:{en_US:"SAPO Promos"}},{text:"Auto SAPO Premium",href:"http://auto.sapo.pt/premium/",lang:{en_US:"Premium Cars"}}]},{text:"Classificados",lang:{en_US:"Classifieds"},href:null,liclass:null,exclude_partner:["impresa"],has_submenu:!0,submenu:[{text:"Casa SAPO",href:"http://casa.sapo.pt",lang:{en_US:"Real Estate"}},{text:"SAPO Emprego",href:"http://emprego.sapo.pt",lang:{en_US:"Jobs"}},{text:"Auto SAPO",href:"http://auto.sapo.pt",lang:{en_US:"Cars"}},{text:"Kelley Blue Book",href:"https://kbb.sapo.pt",lang:{en_US:"Kelley Blue Book"}}]},{text:"Internacional",lang:{en_US:"Worldwide"},href:null,liclass:null,has_submenu:!0,submenu:[{text:"Angola",href:"http://sapo.ao",mhref:"http://m.sapo.ao",lang:{en_US:"Angola"}},{text:"Mo\xe7ambique",href:"http://sapo.mz",mhref:"http://m.sapo.mz",lang:{en_US:"Mozambique"}},{text:"Cabo Verde",href:"http://sapo.cv",mhref:"http://m.sapo.cv",lang:{en_US:"Cape Verde"}},{text:"Timor",href:"http://sapo.tl",mhref:"http://m.sapo.tl",lang:{en_US:"East Timor"}}]}],partners:{impresa:{text:"Impresa",has_submenu:!0,submenu:[{text:"Expresso",href:"http://expresso.sapo.pt",mhref:"http://m.expresso.sapo.pt"},{text:"SIC",href:"http://sic.sapo.pt"},{text:"BPI Expresso Imobili\xe1rio",href:"http://bpiexpressoimobiliario.pt"},{text:"SIC Not\xedcias",href:"http://sicnoticias.sapo.pt",mhref:"http://m.sicnoticias.sapo.pt"},{text:"Expresso Emprego",href:"http://www.expressoemprego.pt"},{text:"SIC Mulher",href:"http://sicmulher.sapo.pt"},{text:"Vis\xe3o",href:"http://visao.sapo.pt",mhref:"http://m.visao.sapo.pt"},{text:"SIC Radical",href:"http://sicradical.sapo.pt"},{text:"Caras",href:"http://caras.sapo.pt",mhref:"http://m.caras.sapo.pt"},{text:"SIC Caras",href:"http://siccaras.sapo.pt"},{text:"Exame Inform\xe1tica",href:"http://exameinformatica.sapo.pt",mhref:"http://m.exameinformatica.sapo.pt"},{text:"SIC Kapa",href:"http://sickapa.sapo.pt"},{text:"Activa",href:"http://activa.sapo.pt",mhref:"http://m.activa.sapo.pt"},{text:"Assine J\xe1",href:"http://www.assineja.pt"},{text:"Blitz",href:"http://blitz.sapo.pt",mhref:"http://m.blitz.sapo.pt"},{text:"Boa Cama Boa Mesa",href:"http://boacamaboamesa.expresso.sapo.pt"},{text:"TV Mais",href:"http://tvmais.sapo.pt"},{text:"Olhares",href:"http://olhares.sapo.pt"},{text:"Jornal de Letras",href:"http://jornaldeletras.sapo.pt/"},{text:"Parlamento Global",href:"http://parlamentoglobal.sapo.pt"}]},rcom:{text:"R/COM",has_submenu:!0,submenu:[{text:"Renascen\xe7a",href:"http://rr.sapo.pt"},{text:"RFM",href:"http://rfm.sapo.pt"},{text:"RFM vi",href:"http://rfmvi.sapo.pt"},{text:"80's RFM",href:"http://rfm.sapo.pt/emissao80spub"},{text:"RFM clubbing",href:"http://rfm.sapo.pt/emissaoclubbingpub"},{text:"Oceano Pacifico",href:"http://rfm.sapo.pt/emissaooceanopacificopub"},{text:"MegaHits",href:"http://megahits.sapo.pt"},{text:"R\xe1dio SIM",href:"http://radiosim.sapo.pt"}]},diariodigital:{text:"Di\xe1rio Digital",has_submenu:!0,submenu:[{text:"Di\xe1rio Digital",href:"http://diariodigital.sapo.pt",mhref:"http://m.diariodigital.sapo.pt"},{text:"Disco Digital",href:"http://discodigital.sapo.pt"},{text:"Dinheiro Digital",href:"http://dinheirodigital.sapo.pt"}]},de:!0,cmtv:!0,portocanal:!0},user:[{text:"Ajuda",lang:{en_US:"Help"},href:"http://ajuda.sapo.pt/?ref="+encodeURIComponent(window.location.hostname),liclass:"bsu-v2-help bsu-v2-hide-tiny bsu-v2-hide-small"},{text:"Login",liclass:"bsu-v2-current-user",is_special:!0,type:"login"}],sub_bsu:{}},ao:{main_bsu:[{text:"Mail",href:"http://mail.sapo.ao",liclass:"bsu-v2-highlight"},{text:"V\xeddeos",href:"http://videos.sapo.ao",mhref:"http://m.videos.sapo.ao",liclass:"bsu-v2-highlight"},{text:"Not\xedcias",href:null,liclass:null,has_submenu:!0,submenu:[{text:"Actualidade",href:"http://noticias.sapo.ao",mhref:"http://m.noticias.sapo.ao"},{text:"Economia",href:"http://noticias.sapo.ao/economia"},{text:"Desporto",href:"http://desporto.sapo.ao",mhref:"http://m.desporto.sapo.ao"},{text:"Banca de Jornais",href:"http://banca.sapo.ao",mhref:"http://m.noticias.sapo.ao/banca"}]},{text:"Lifestyle",href:null,liclass:null,has_submenu:!0,submenu:[{text:"Lifestyle",href:"http://lifestyle.sapo.ao"},{text:"Caiu na Rede",href:"http://caiunarede.sapo.ao"},{text:"Novelas",href:"http://novelas.sapo.ao"},{text:"Viajar",href:"http://viajar.sapo.ao"}]},{text:"M\xfasica",href:null,liclass:null,has_submenu:!0,submenu:[{text:"Banda",href:"http://banda.sapo.ao",mhref:"http://m.banda.sapo.ao"},{text:"R\xe1dios",href:"http://radiosonline.sapo.ao"}]},{text:"\xdateis",href:null,liclass:null,has_submenu:!0,submenu:[{text:"Estudante",href:"http://estudante.sapo.ao"},{text:"Transfer",href:"http://transfer.sapo.ao"},{text:"Auto",href:"http://auto.sapo.ao"},{text:"Casa",href:"http://casa.sapo.ao"},{text:"Emprego",href:"http://emprego.sapo.ao"},{text:"Tempo",href:"http://tempo.sapo.ao",mhref:"http://m.tempo.sapo.ao"},{text:"Pesquisa",href:"http://pesquisa.sapo.ao"},{text:"Blogs",href:"http://blogs.sapo.ao",mhref:"http://m.blogs.sapo.ao"}]},{text:"Internacional",href:null,liclass:null,has_submenu:!0,submenu:[{text:"Cabo Verde",href:"http://sapo.cv",mhref:"http://m.sapo.cv"},{text:"Mo\xe7ambique",href:"http://sapo.mz",mhref:"http://m.sapo.mz"},{text:"Portugal",href:"http://sapo.pt",mhref:"http://m.sapo.pt"},{text:"Timor",href:"http://sapo.tl",mhref:"http://m.sapo.tl"}]}],partners:{edicoesnovembro:{text:"Edi\xe7\xf5es Novembro",has_submenu:!0,submenu:[{text:"Edi\xe7\xf5es Novembro",href:"http://edicoesnovembro.sapo.ao"},{text:"Jornal de Angola",href:"http://jornaldeangola.sapo.ao",mhref:"http://m.jornaldeangola.sapo.ao"},{text:"Jornal dos Desportos",href:"http://jornaldosdesportos.sapo.ao",mhref:"http://m.jornaldosdesportos.sapo.ao"},{text:"Economia e Finan\xe7as",href:"http://jornaldeeconomia.sapo.ao",mhref:"http://m.jornaldeeconomia.sapo.ao"},{text:"Jornal Cultura",href:"http://jornalcultura.sapo.ao",mhref:"http://m.jornalcultura.sapo.ao"}]}},user:[{text:"Ajuda",href:"http://ajuda.sapo.ao/?ref="+encodeURIComponent(window.location.hostname),liclass:"bsu-v2-help bsu-v2-hide-tiny bsu-v2-hide-small"},{text:"Login",liclass:"bsu-v2-current-user",is_special:!0,type:"login"}]},mz:{main_bsu:[{text:"Mail",href:"http://mail.sapo.mz",liclass:"bsu-v2-highlight"},{text:"V\xeddeos",href:"http://videos.sapo.mz",mhref:"http://m.videos.sapo.mz",liclass:"bsu-v2-highlight"},{text:"Not\xedcias",href:null,liclass:null,has_submenu:!0,submenu:[{text:"Actualidade",href:"http://noticias.sapo.mz",mhref:"http://m.noticias.sapo.mz"},{text:"Economia",href:"http://noticias.sapo.mz/economia"},{text:"Desporto",href:"http://desporto.sapo.mz",mhref:"http://m.desporto.sapo.mz"},{text:"Banca de Jornais",href:"http://banca.sapo.mz",mhref:"http://m.noticias.sapo.pt/banca"}]},{text:"Lifestyle",href:null,liclass:null,has_submenu:!0,submenu:[{text:"Lifestyle",href:"http://lifestyle.sapo.mz"},{text:"Caiu na Rede",href:"http://caiunarede.sapo.mz"},{text:"Viajar",href:"http://viajar.sapo.mz"}]},{text:"M\xfasica",href:null,liclass:null,has_submenu:!0,submenu:[{text:"Txiling",href:"http://txiling.sapo.mz",mhref:"http://m.txiling.sapo.mz"},{text:"R\xe1dios",href:"http://radios.sapo.mz"}]},{text:"\xdateis",href:null,liclass:null,has_submenu:!0,submenu:[{text:"Estudante",href:"http://estudante.sapo.mz"},{text:"Transfer",href:"http://transfer.sapo.mz"},{text:"Casa",href:"http://casa.sapo.mz"},{text:"Emprego",href:"http://emprego.sapo.mz"},{text:"Tempo",href:"http://tempo.sapo.mz",mhref:"http://m.tempo.sapo.mz"},{text:"Pesquisa",href:"http://pesquisa.sapo.mz"},{text:"Blogs",href:"http://blogs.sapo.mz",mhref:"http://m.blogs.sapo.mz"}]},{text:"Internacional",href:null,liclass:null,has_submenu:!0,submenu:[{text:"Angola",href:"http://sapo.ao",mhref:"http://m.sapo.ao"},{text:"Cabo Verde",href:"http://sapo.cv",mhref:"http://m.sapo.cv"},{text:"Portugal",href:"http://sapo.pt",mhref:"http://m.sapo.pt"},{text:"Timor",href:"http://sapo.tl",mhref:"http://m.sapo.tl"}]}],partners:{soico:{text:"Grupo Soico",has_submenu:!0,submenu:[{text:"STV",href:"http://stv.sapo.mz"},{text:"SFM",href:"http://txiling.sapo.mz/radios"},{text:"O Pa\xeds",href:"http://opais.sapo.mz"}]}},user:[{text:"Ajuda",href:"http://ajuda.sapo.mz/?ref="+encodeURIComponent(window.location.hostname),liclass:"bsu-v2-help bsu-v2-hide-tiny bsu-v2-hide-small"},{text:"Login",liclass:"bsu-v2-current-user",is_special:!0,type:"login"}]},cv:{main_bsu:[{text:"Mail",href:"http://mail.sapo.cv",liclass:"bsu-v2-highlight"},{text:"V\xeddeos",href:"http://videos.sapo.cv",mhref:"http://m.videos.sapo.cv",liclass:"bsu-v2-highlight"},{text:"Not\xedcias",href:null,liclass:null,has_submenu:!0,submenu:[{text:"Actualidade",href:"http://noticias.sapo.cv",mhref:"http://m.noticias.sapo.cv"},{text:"Economia",href:"http://noticias.sapo.cv/economia"},{text:"Desporto",href:"http://desporto.sapo.cv",mhref:"http://m.desporto.sapo.cv"},{text:"Banca de Jornais",href:"http://banca.sapo.cv",mhref:"http://m.noticias.sapo.cv/banca"}]},{text:"Lifestyle",href:null,liclass:null,has_submenu:!0,submenu:[{text:"Lifestyle",href:"http://lifestyle.sapo.cv"},{text:"Caiu na Rede",href:"http://caiunarede.sapo.cv"},{text:"Viajar",href:"http://viajar.sapo.cv"}]},{text:"M\xfasica",href:null,liclass:null,has_submenu:!0,submenu:[{text:"Muzika",href:"http://muzika.sapo.cv",mhref:"http://m.muzika.sapo.cv"},{text:"R\xe1dios",href:"http://muzika.sapo.cv/radios"},{text:"Festivais",href:"http://fest.sapo.cv"}]},{text:"\xdateis",href:null,liclass:null,has_submenu:!0,submenu:[{text:"Estudante",href:"http://estudante.sapo.cv"},{text:"Transfer",href:"http://transfer.sapo.cv"},{text:"Auto",href:"http://auto.sapo.cv"},{text:"Casa",href:"http://casa.sapo.cv"},{text:"Emprego",href:"http://emprego.sapo.cv"},{text:"Tempo",href:"http://tempo.sapo.cv",mhref:"http://m.tempo.sapo.cv"},{text:"Pesquisa",href:"http://pesquisa.sapo.cv"},{text:"Blogs",href:"http://blogs.sapo.cv",mhref:"http://m.blogs.sapo.cv"}]},{text:"Internacional",href:null,liclass:null,has_submenu:!0,submenu:[{text:"Angola",href:"http://sapo.ao",mhref:"http://m.sapo.ao"},{text:"Mo\xe7ambique",href:"http://sapo.mz",mhref:"http://m.sapo.mz"},{text:"Portugal",href:"http://sapo.pt",mhref:"http://m.sapo.pt"},{text:"Timor",href:"http://sapo.tl",mhref:"http://m.sapo.tl"}]}],partners:{},user:[{text:"Ajuda",href:"http://ajuda.sapo.cv/?ref="+encodeURIComponent(window.location.hostname),liclass:"bsu-v2-help bsu-v2-hide-tiny bsu-v2-hide-small"},{text:"Login",liclass:"bsu-v2-current-user",is_special:!0,type:"login"}]},tl:{main_bsu:[{text:"Mail",lang:{tet_TL:"Mail"},href:"http://mail.sapo.tl",liclass:"bsu-v2-highlight"},{text:"V\xeddeos",lang:{tet_TL:"V\xeddeo"},href:"http://videos.sapo.tl",liclass:"bsu-v2-highlight"},{text:"Not\xedcias",lang:{tet_TL:"Not\xedsia"},href:null,liclass:null,has_submenu:!0,submenu:[{text:"Actualidade",href:"http://noticias.sapo.tl",lang:{tet_TL:"Atualidade"}},{text:"Banca de Jornais",href:"http://banca.sapo.tl",lang:{tet_TL:"Banka jornal"}}]},{text:"Lifestyle",lang:{tet_TL:"Lifestyle"},href:null,liclass:null,has_submenu:!0,submenu:[{text:"Haksolok",href:"http://haksolok.sapo.tl",lang:{tet_TL:"Haksolok"}},{text:"Caiu na Rede",href:"http://caiunarede.sapo.tl",lang:{tet_TL:"Ka'it metin ba"}},{text:"Sabores",href:"http://sabores.sapo.tl",lang:{tet_TL:"Sabores"}}]},{text:"\xdateis",lang:{tet_TL:"\xdatil"},href:null,liclass:null,has_submenu:!0,submenu:[{text:"Transfer",href:"http://transfer.sapo.tl",lang:{tet_TL:"Transfer"}},{text:"Tempo",href:"http://tempo.sapo.tl",lang:{tet_TL:"Tempu"}},{text:"Pesquisa",href:"http://pesquisa.sapo.tl",lang:{tet_TL:"Peskiza"}},{text:"Blogs",href:"http://blogs.sapo.tl",lang:{tet_TL:"Blogs"}}]},{text:"Internacional",lang:{tet_TL:"Internacional"},href:null,liclass:null,has_submenu:!0,submenu:[{text:"Angola",href:"http://sapo.ao",lang:{tet_TL:"Angola"}},{text:"Cabo Verde",href:"http://sapo.cv",lang:{tet_TL:"Cabo Verde"}},{text:"Mo\xe7ambique",href:"http://sapo.mz",lang:{tet_TL:"Mo\xe7ambique"}},{text:"Portugal",href:"http://sapo.pt",lang:{tet_TL:"Portugal"}}]}],partners:{},user:[{text:"Ajuda",href:"http://ajuda.sapo.tl/?ref="+encodeURIComponent(window.location.hostname),liclass:"bsu-v2-help bsu-v2-hide-tiny bsu-v2-hide-small"},{text:"Login",liclass:"bsu-v2-current-user",is_special:!0,type:"login"}]},blogssapo:{main_bsu:[{text:"Casal Mist\xe9rio",href:"http://casalmisterio.com/",liclass:"bsu-v2-highlight"},{text:"C\xf3c\xf3 na fralda",href:"http://coconafralda.sapo.pt/",liclass:"bsu-v2-highlight"},{text:"Mini-Saia",href:"http://mini-saia.blogs.sapo.pt/",liclass:"bsu-v2-highlight"},{text:"Style It Up",href:"http://styleitup.sapo.pt/",liclass:"bsu-v2-highlight"},{text:"Sketchbooksix",href:"http://www.sketchbooksix.com/",liclass:"bsu-v2-highlight"},{text:"Ver Mais",href:null,liclass:null,has_submenu:!0,submenu:[{text:"Frederica",href:"http://frederica.sapo.pt/"},{text:"Stylista",href:"http://mariaguedes.sapo.pt/"},{text:"A melhor amiga da Barbie",href:"http://amelhoramigadabarbie.com/"},{text:"As dicas da B\xe1",href:"http://asdicasdaba.blogs.sapo.pt/"},{text:"Correr na Cidade",href:"http://corrernacidade.com/"},{text:"Quiosque do Ken",href:"http://quiosquedoken.blogs.sapo.pt/"}]}],partners:{blogssapo:{text:"blogs.sapo.pt",href:"http://blogs.sapo.pt/"}},user:[]}},e={about:{text:"Sobre o SAPO",href:"http://sobre.sapo.pt",liclass:"",liid:"",lang:{tet_TL:"Kona-b\xe1",en_US:"About SAPO"}},terms:{text:"Condi\xe7\xf5es de Utiliza\xe7\xe3o",href:"http://ajuda.sapo.pt/pt-pt/security/condicoes-de-utilizacao",liclass:"",liid:"",lang:{tet_TL:"Kondisaun Utilizasaun",en_US:"Terms of Service"}},privacy:{text:"Pol\xedtica de Privacidade",href:"http://ajuda.sapo.pt/pt-pt/security/politica-de-privacidade",liclass:"",liid:"",lang:{tet_TL:"Pol\xedtika Privasidade",en_US:"Privacy Policy"}},cookies:{text:"Sobre Cookies",href:"http://ajuda.sapo.pt/pt-pt/security/politica-de-cookies/o-que-sao-cookies",liclass:"",liid:"",lang:{tet_TL:"Kona-b\xe1 Cookie",en_US:"About Cookies"}},help:{text:"Ajuda",href:"http://ajuda.sapo.pt?ref="+encodeURIComponent(window.location.hostname),liclass:"",liid:"",lang:{tet_TL:"Tulun",en_US:"Help"}}},s={text:'Produzido por <a href="http://www.sapo.pt/#_swa_cname=bsu&_swa_csource=footer&_swa_cmedium=web" rel="nofollow">SAPO</a> - Todos os direitos reservados.',lang:{tet_TL:'Produsaun hosi <a href="http://www.sapo.pt/#_swa_cname=bsu&_swa_csource=footer&_swa_cmedium=web" rel="nofollow">SAPO</a> - Ho direitu hotu-hotu rezervadu.',en_US:'Produced by <a href="http://www.sapo.pt/#_swa_cname=bsu&_swa_csource=footer&_swa_cmedium=web" rel="nofollow">SAPO</a> - All rights reserved.'}},a=function(){this._init()};a.prototype={_init:function(){this._confVersion="2.0.49",this._confProtocol="https:"===window.location.protocol?"https:":"http:",this._confLoginHost="https://login.sapo.pt",this._confCssURI=this._confProtocol+"//assets.web.sapo.io/barimgs/bsu_v2.0/"+this._confVersion+"/css/bsu.css?v="+this._confVersion,this._confCssMatch="bsu_v2.0/"+this._confVersion+"/css/bsu.css",this._confAssetsBaseURI=this._confProtocol+"//assets.web.sapo.io/barimgs/bsu_v2.0/"+this._confVersion+"/",this._confLoginMinPath="/Bsu/Min.do",this._confLoginMaxPath="/Bsu/Max.do",this._confAppsAndNotificationsGlobalFunction="BSU2JsonPAppBannersAndNotifications",this._confAppsAndNotificationsEndpoint=this._confProtocol+"//imgs.sapo.pt/barimgs/bsu_apps_ntfs/AppBanners.js",this._retargetSegmentsTimeout=5e3,this._retargetSegmentsCheckedCookie="sas_seg_chkv2",this._retargetSegmentsGlobalFunction="BSU2JsonPRetargetSegments",this._retargetSegmentsEndpoint=this._confProtocol+"//adsegments.imgs.sapo.pt/segments",this._sasCookieTTL=7,this._sasCookieKey="sas_seg",this._sasCookieEndpoint=this._confProtocol+"//ww1510.smartadserver.com/track/compginc.asp?exp="+60*this._sasCookieTTL*24+"&exptime="+this._sasCookieTTL,this._confCookiesBanners={app:{name:"bsuv2app",ttl:2592e3},deskapp:{name:"bsuv2deskapp",ttl:2592e3,nametoshow:"bsuv2countdeskapp",ttltoshow:86400},ntfs:{name:"bsuv2ntfs-",ttl:259200},cookie:{name:"_ckiemsg",ttl:9999999},homescreen:{name:"bsuv2home",ttl:7776e3,nametoshow:"bsuv2counthome",ttltoshow:86400}},this._confHashAnalyticsLogo="#utm_source=bsu_logo&utm_medium=Web&utm_campaign=bsu",this._confHashAnalytics="#utm_source=bsu&utm_medium=Web&utm_campaign=bsu",this._confHashFooterAnalytics="#utm_source=footer&utm_medium=Web&utm_campaign=bsu",this._currentPageHost=null,this._ulSmallElm=null,this._ulLargeElm=null,this._liTodoOSapoElm=null,this._previousMenuItemOpenElm=null,this._scriptTag=null,this._container=null,this._bannersContainer=null,this._isInPrivateMode=!1,this._isMobile=!1,this._isMobileIPhone=!1,this._isMobileIPad=!1,this._isMobileAndroidPhone=!1,this._isMobileAndroidTablet=!1,this._isMobileWinPhone=!1,this._pageHeadElm=null,this._country="pt",this._keyToUse=this._country,this._lang=!1,this._isPartner=!1,this._partnerKey=null,this._dataOpt={container:null,width:null,country:"pt",partner:null,partner_add_homescreen:!1,subbsu:null,login:null,logout:null,lang:null,nofooter:!1,with_footer:!1,host_dev:null,force_key:null},this._hasSubBsu=!1,this._subBsuKey=null,this._ifrLoginMinReady=!1,this._ifrLoginMaxReady=!1,this._isShowingBanner=!1,this._getCurrentHost(),this._getCurrentScriptTag(),this._checkPrivateMode();this._setPageElms(),this._addCss(),this._getScriptOptions(),this._detectLang(),this._createBsuHTML(),this._getAppAndNotificationsList(),this._getRetargetSegments();var t=this;setTimeout(function(){t._processFooterLinks(),t._processFooterSapo()},500)},_getCurrentHost:function(){this._currentPageHost=window.location.hostname},_isCurrentPageHost:function(t){return t&&t.indexOf("://"+this._currentPageHost)>-1?!0:!1},_isMaybeInHomePage:function(){var t=window.location.href,e=/https?\:\/\/[^\/]+\/?[^\/?]*$/i;return e.test(t)?!0:!1},_isMSapo:function(){var t=this._currentPageHost,e=/^m\.[^\/]*sapo\.(pt|ao|cv|mz|tl)/i;return e.test(t)?!0:!1},_getCurrentScriptTag:function(){var t=document.getElementById("bsu-v2-sapo");if(null===t){for(var e,s,a=document.getElementsByTagName("script"),i=0,n=a.length;n>i;i++)if(e=a[i],s=e.getAttribute("src"),null!==s&&(s.indexOf("bsu_v2.0/barra.js")>=0||s.indexOf("/bsu-2")>=0))return void(this._scriptTag=e)}else this._scriptTag=t},_addCss:function(){for(var t,e=document.getElementsByTagName("link"),s=0,a=e.length;a>s;s++)if(t=e[s].getAttribute("href"),null!==t&&-1!==t.indexOf(this._confCssMatch))return;var i=document.createElement("link");i.media="screen",i.type="text/css",i.href=this._confCssURI,i.rel="stylesheet",this._pageHeadElm.appendChild(i)},_getScriptOptions:function(){if(null!==this._scriptTag){var e=this._scriptTag.getAttribute("data-container");null!==e&&(this._dataOpt.container=e);var s=this._scriptTag.getAttribute("data-partner");null!==s&&(this._isPartner=!0,this._partnerKey=s.toLowerCase(),this._dataOpt.partner=this._partnerKey,this._dataOpt.partner_add_homescreen=this._scriptTag.getAttribute("data-add-homescreen"),null===this._dataOpt.partner_add_homescreen?this._dataOpt.partner_add_homescreen=!1:this._dataOpt.partner_add_homescreen=!0);var a=this._scriptTag.getAttribute("data-country");null!==a&&(this._country=a.toLowerCase(),this._country in t||(this._country="pt"),this._dataOpt.country=this._country);var i=this._scriptTag.getAttribute("data-force-key");null!==i&&(i=i.toLowerCase(),i in t&&(this._dataOpt.force_key=i)),null!==this._dataOpt.force_key?this._keyToUse=this._dataOpt.force_key:this._keyToUse=this._country;var n=this._scriptTag.getAttribute("data-subbsu");null!==n&&(n=n.toLowerCase(),t[this._keyToUse].sub_bsu&&n in t[this._keyToUse].sub_bsu?(this._hasSubBsu=!0,this._subBsuKey=n):this._subBsuKey=null,this._dataOpt.subbsu=this._subBsuKey);var o=this._scriptTag.getAttribute("data-width");null!==o&&(o=parseInt(o,10),isNaN(o)||(this._dataOpt.width=o,this._dataOpt.width<960&&(this._dataOpt.width=960)));var r=this._scriptTag.getAttribute("data-login");null!==r&&(this._dataOpt.login=r);var h=this._scriptTag.getAttribute("data-logout");null!==h&&(this._dataOpt.logout=h);var l=this._scriptTag.getAttribute("data-lang");null!==l&&(this._dataOpt.lang=l);var p=this._scriptTag.getAttribute("data-nofooter");null!==p&&(this._dataOpt.nofooter=!0);var u=this._scriptTag.getAttribute("data-with-footer");null!==u&&(this._dataOpt.with_footer=!0);var c=this._scriptTag.getAttribute("data-host-dev");null!==c&&(this._dataOpt.host_dev=c,this._currentPageHost=c)}},_getLegacyOptions:function(){},_detectLang:function(){if(this._dataOpt.lang)this._lang=this._dataOpt.lang;else{var t=this._getCookie("lang");t?this._lang=t:this._lang=!1}},_setPageElms:function(){var t=document.getElementsByTagName("head");t.length>0?this._pageHeadElm=t[0]:this._pageHeadElm=document.documentElement},_createBsuHTML:function(){var t=!0;this._container=document.getElementById("bsu-v2-ctn"),null===this._container&&(t=!1,this._container=document.createElement("div"),this._container.setAttribute("id","bsu-v2-ctn")),this._container.style.display="none",this._addTouchClassToContainer();var e=this._createBaseHTML(),s=this._createMenusHTML(),a=this._createUserMenusHTML(),i=this._createSubBsuHTML();e.appendChild(s),e.appendChild(a),null!==this._container&&(this._container.appendChild(e),null!==i&&this._container.appendChild(i));var n=document.createElement("div");if(n.setAttribute("id","bsu-v2-end"),n.setAttribute("tabindex","0"),this._container.appendChild(n),!t){var o=document.getElementById("bsu_root");if(null!==o)o.parentNode.insertBefore(this._container,o);else{var r=document.body.firstChild;null!==r?r.parentNode.insertBefore(this._container,r):document.body.appendChild(this._container)}}},_createBaseHTML:function(){var t=document.createElement("div");t.setAttribute("id","bsu-v2"),this._dataOpt.width&&(t.style.maxWidth=this._dataOpt.width+"px");var e=document.createElement("a");e.setAttribute("id","bsu-v2-a11y"),e.setAttribute("href","#bsu-v2-end"),e.appendChild(document.createTextNode("Saltar os links da Barra SAPO")),t.appendChild(e);var s=document.createElement("a");s.setAttribute("id","bsu-v2-logo"),this._isMSapo()?s.setAttribute("href","http://m.sapo."+this._country+this._confHashAnalyticsLogo):s.setAttribute("href","http://www.sapo."+this._country+this._confHashAnalyticsLogo),s.appendChild(document.createTextNode("SAPO"));var a=this;return this._addEvent(t,"click",function(t){a._onClickMenuItemHasSubMenu(t)}),t.appendChild(s),t},_createMenusHTML:function(){var e=document.createElement("div");e.setAttribute("id","bsu-v2-content-menu"),e.setAttribute("role","menubar"),this._ulSmallElm=document.createElement("ul"),this._addClassName(this._ulSmallElm,"bsu-v2-menu bsu-v2-menu-small bsu-v2-hide-large bsu-v2-hide-xlarge"),this._liTodoOSapoElm=document.createElement("li"),this._liTodoOSapoElm.setAttribute("role","menuitem"),this._addClassName(this._liTodoOSapoElm,"bsu-v2-has-submenu bsu-v2-is-todo-o-sapo");var s=document.createElement("a");s.setAttribute("href","#todoosapo");var a=this;this._addEvent(s,"click",function(t){a._prevEventDefault(t),a._openCloseMenuLarge(!1,a._liTodoOSapoElm)});var i=document.createElement("span");i.appendChild(document.createTextNode("Todo o SAPO")),s.appendChild(i);var n=document.createElement("i");this._addClassName(n,"bsu-v2-icon-dropdown"),s.appendChild(n),this._liTodoOSapoElm.appendChild(s),this._ulSmallElm.appendChild(this._liTodoOSapoElm),this._ulLargeElm=document.createElement("ul"),this._addClassName(this._ulLargeElm,"bsu-v2-menu bsu-v2-menu-large bsu-v2-hide-tiny bsu-v2-hide-small bsu-v2-hide-medium");for(var o,r,h,l,p,u,c=t[this._keyToUse].main_bsu,d=this._isMSapo(),m=0,_=c.length;_>m;m++)if(o=c[m],!o.exclude_partner||!this._isToExcludeInPartner(o.exclude_partner)){if(r=document.createElement("li"),r.setAttribute("role","menuitem"),o.liclass&&this._addClassName(r,o.liclass),o.liid&&r.setAttribute("id",o.liid),h=document.createElement("a"),i=document.createElement("span"),this._lang&&"object"==typeof o.lang&&this._lang in o.lang&&o.lang[this._lang]?i.appendChild(document.createTextNode(o.lang[this._lang])):i.appendChild(document.createTextNode(o.text)),h.appendChild(i),r.appendChild(h),o.has_submenu){this._addClassName(r,"bsu-v2-has-submenu"),r.setAttribute("aria-haspopup","true"),h.setAttribute("href","#vermais"),l=document.createElement("i"),this._addClassName(l,"bsu-v2-icon-dropdown"),h.appendChild(l),p=document.createElement("div"),p.setAttribute("aria-hidden","true"),this._addClassName(p,"bsu-v2-submenu"),u=document.createElement("ul");for(var f=0,g=o.submenu.length;g>f;f++)o.submenu[f].exclude_partner&&this._isToExcludeInPartner(o.submenu[f].exclude_partner)||u.appendChild(this._createSubmenuItem(o.submenu[f]));p.appendChild(u),r.appendChild(p)}else o.href&&(d&&"mhref"in o&&o.mhref?h.setAttribute("href",o.mhref+this._confHashAnalytics):h.setAttribute("href",o.href+this._confHashAnalytics),this._isCurrentPageHost(o.href)&&this._addClassName(r,"bsu-v2-active"),this._addClassName(h,"bsu-v2-link"));this._ulLargeElm.appendChild(r)}return e.appendChild(this._ulSmallElm),e.appendChild(this._ulLargeElm),e},_createSubmenuItem:function(t){var e=document.createElement("li"),s=document.createElement("a");t.liclass&&this._addClassName(e,t.liclass),t.href&&(e.setAttribute("role","menuitem"),this._isMSapo()&&"mhref"in t&&t.mhref?s.setAttribute("href",t.mhref+this._confHashAnalytics):s.setAttribute("href",t.href+this._confHashAnalytics),this._isCurrentPageHost(t.href)&&this._addClassName(e,"bsu-v2-active"),this._addClassName(s,"bsu-v2-link"));var a=document.createElement("span");return this._lang&&"object"==typeof t.lang&&this._lang in t.lang&&t.lang[this._lang]?a.appendChild(document.createTextNode(t.lang[this._lang])):a.appendChild(document.createTextNode(t.text)),s.appendChild(a),e.appendChild(s),e},_openCloseMenuLarge:function(t,e){return t?(e&&this._removeClassName(e,"bsu-v2-open"),void this._removeClassName(this._ulLargeElm,"bsu-v2-show")):(this._openCloseLoginMaxIfr(null,!0),void(this._hasClassName(this._ulLargeElm,"bsu-v2-show")?(this._removeClassName(e,"bsu-v2-open"),this._removeClassName(this._ulLargeElm,"bsu-v2-show")):(this._addClassName(e,"bsu-v2-open"),this._addClassName(this._ulLargeElm,"bsu-v2-show"))))},_openCloseMenuItem:function(t,e){var s,a;return e.querySelector&&(s=e.querySelector("div.bsu-v2-submenu"),a=s.getAttribute("aria-hidden")),t?(this._removeClassName(e,"bsu-v2-open"),this._previousMenuItemOpenElm=null,void(a&&s&&s.setAttribute("aria-hidden","true"))):void(this._hasClassName(e,"bsu-v2-open")?(this._removeClassName(e,"bsu-v2-open"),this._previousMenuItemOpenElm=null,a&&s&&s.setAttribute("aria-hidden","true")):(this._addClassName(e,"bsu-v2-open"),this._previousMenuItemOpenElm&&this._previousMenuItemOpenElm!==e&&this._openCloseMenuItem(!0,this._previousMenuItemOpenElm),a&&s&&s.setAttribute("aria-hidden","false"),this._previousMenuItemOpenElm=e))},_onClickMenuItemHasSubMenu:function(t){var e=t.target||t.srcElement||null;if(e=!e||3!==e.nodeType&&4!==e.nodeType?e:e.parentNode){var s=this._findUpByClass(e,"bsu-v2-link");if(!s){var a=this._findUpByClass(e,"bsu-v2-has-submenu");a&&!this._hasClassName(a,"bsu-v2-is-todo-o-sapo")&&(this._prevEventDefault(t),this._openCloseMenuItem(!1,a)),a&&this._hasClassName(a,"bsu-v2-is-todo-o-sapo")&&(this._hasClassName(this._container,"bsu-v2-has-open-menu")?this._removeClassName(this._container,"bsu-v2-has-open-menu"):this._addClassName(this._container,"bsu-v2-has-open-menu"))}}},_createUserMenusHTML:function(){var e=document.createElement("div");e.setAttribute("id","bsu-v2-user-menu");var s=document.createElement("ul");s.setAttribute("role","menubar"),this._addClassName(s,"bsu-v2-menu");var a="bsu-v2-"+this._country+" ";if(this._isPartner){if(a+="bsu-v2-partner ",this._partnerKey in t[this._keyToUse].partners){var i=t[this._keyToUse].partners[this._partnerKey];if(i.text){a+=""+this._partnerKey;var n=document.createElement("li");n.setAttribute("role","menuitem");var o=document.createElement("a"),r=document.createElement("span");this._lang&&"object"==typeof i.lang&&this._lang in i.lang&&i.lang[this._lang]?r.appendChild(document.createTextNode(i.lang[this._lang])):r.appendChild(document.createTextNode(i.text)),o.appendChild(r);var h="bsu-v2-partner-menu bsu-v2-partner-"+this._partnerKey;if(i.has_submenu){h+=" bsu-v2-has-submenu",n.setAttribute("aria-haspopup","true"),o.setAttribute("href","#vermais");var l=document.createElement("i");this._addClassName(l,"bsu-v2-icon-dropdown"),o.appendChild(l),n.appendChild(o);var p=document.createElement("div");p.setAttribute("aria-hidden","true"),this._addClassName(p,"bsu-v2-submenu");for(var u=document.createElement("ul"),c=0,d=i.submenu.length;d>c;c++)u.appendChild(this._createSubmenuItem(i.submenu[c]));p.appendChild(u),n.appendChild(p)}else i.href&&(this._isMSapo()&&"mhref"in i&&i.mhref?o.setAttribute("href",i.mhref+this._confHashAnalytics):o.setAttribute("href",i.href+this._confHashAnalytics),this._isCurrentPageHost(i.href)&&this._addClassName(n,"bsu-v2-active"),this._addClassName(o,"bsu-v2-link")),n.appendChild(o);this._addClassName(n,h),s.appendChild(n)}}}else{if(this._dataOpt.host_dev){var m=document.createElement("li");m.className="bsu-v2-has-submenu",m.innerHTML='<a href="#" class="bsu-v2-link" style="color:red;"><b>DEV</b></a>';var _=document.createElement("div");_.className="bsu-v2-submenu",_.innerHTML='<ul><li style="width:100%; height:100px;"><a class="bsu-v2-link" href="#" style="height:100px;">In production remove attributes *-dev <br />from script tag</a></li></ul>',m.appendChild(_),s.appendChild(m)}for(var f=t[this._keyToUse].user,g=0,b=f.length;b>g;g++)"undefined"!=typeof f[g].is_special&&f[g].is_special?s.appendChild(this._createSpecialMenu(f[g]),f[g].type):s.appendChild(this._createSubmenuItem(f[g]))}return this._addClassName(this._container,a),e.appendChild(s),e},_createSubBsuHTML:function(){if(this._hasSubBsu&&null!==this._subBsuKey&&this._subBsuKey in t[this._keyToUse].sub_bsu){this._addClassName(this._container,"has-sub-bsu");
var e=document.createElement("div");e.setAttribute("id","bsu-v2-subbsu");var s=document.createElement("ul");this._addClassName(s,"bsu-v2-menu"),this._dataOpt.width&&(s.style.maxWidth=this._dataOpt.width+"px");for(var a=0,i=t[this._keyToUse].sub_bsu[this._subBsuKey].length;i>a;a++)s.appendChild(this._createSubmenuItem(t[this._keyToUse].sub_bsu[this._subBsuKey][a]));return e.appendChild(s),e}return null},_isToExcludeInPartner:function(t){if(t&&t.length>0)for(var e=0,s=t.length;s>e;e++)if(t[e]===this._partnerKey)return!0;return!1},_createSpecialMenu:function(t,e){var s=document.createElement("li");return s.setAttribute("role","menuitem"),"undefined"!=typeof t.liclass&&this._addClassName(s,t.liclass),this._addClassName(s,"bsu-v2-current-user"),"login"===t.type?(this._createSpecialLogin(),s.appendChild(this._ifrLoginMinElm),s.appendChild(this._ifrLoginMaxElm),this._loginGhostLayer&&s.appendChild(this._loginGhostLayer),s):void 0},_createSpecialLogin:function(){var t=["ref="+encodeURIComponent(this._confProtocol+"//"+window.location.hostname),"source="+encodeURIComponent(window.location.href),"login="+(this._dataOpt.login?encodeURIComponent(this._dataOpt.login):""),"logout="+(this._dataOpt.logout?encodeURIComponent(this._dataOpt.logout):""),"_r="+(new Date).getTime()];this._ifrLoginMinElm=document.createElement("iframe"),this._ifrLoginMinElm.setAttribute("src",this._confLoginHost+this._confLoginMinPath+"?"+t.join("&")),this._ifrLoginMinElm.setAttribute("id","bsu-v2-login-min"),this._ifrLoginMinElm.setAttribute("frameBorder","0"),this._ifrLoginMinElm.setAttribute("border","0"),this._ifrLoginMinElm.setAttribute("scrolling","no"),this._ifrLoginMinElm.setAttribute("title","Login SAPO");var e=["ref="+encodeURIComponent(this._confProtocol+"//"+window.location.hostname),"source="+encodeURIComponent(window.location.href),"login="+(this._dataOpt.login?encodeURIComponent(this._dataOpt.login):""),"logout="+(this._dataOpt.logout?encodeURIComponent(this._dataOpt.logout):""),"_r="+(new Date).getTime()];if(this._ifrLoginMaxElm=document.createElement("iframe"),this._ifrLoginMaxElm.setAttribute("src",this._confLoginHost+this._confLoginMaxPath+"?"+e.join("&")),this._ifrLoginMaxElm.setAttribute("id","bsu-v2-login-max"),this._ifrLoginMaxElm.setAttribute("frameBorder","0"),this._ifrLoginMaxElm.setAttribute("border","0"),this._ifrLoginMaxElm.setAttribute("scrolling","no"),this._ifrLoginMaxElm.setAttribute("title","Opcoes Login SAPO"),!window.postMessage){this._loginGhostLayer=document.createElement("div"),this._addClassName(this._loginGhostLayer,"bsu-v2-ghost-layer"),this._addClassName(this._container,"bsu-v2-no-postmessage");var s=this;this._addEvent(this._loginGhostLayer,"click",function(t){s._openCloseLoginMaxIfr(t,!1)})}this._initPostMessageMinMaxLogin()},_openCloseLoginMaxIfr:function(t,e){return e?void(this._hasClassName(this._container,"has-open-user-menu")&&this._removeClassName(this._container,"has-open-user-menu")):(this._openCloseMenuLarge(!0,this._liTodoOSapoElm),void(this._hasClassName(this._container,"has-open-user-menu")?this._removeClassName(this._container,"has-open-user-menu"):(this._addClassName(this._container,"has-open-user-menu"),this._postMessageAskForLoginMaxDims())))},_resizeLoginMin:function(t){var e=this._parsePostMessageActionValue(t);"undefined"!=typeof e.width&&e.width&&(this._ifrLoginMinElm.style.width=e.width+"px"),"undefined"!=typeof e.height&&e.height&&(this._ifrLoginMinElm.style.height=e.height+"px")},_resizeLoginMax:function(t){var e=this._parsePostMessageActionValue(t);"undefined"!=typeof e.width&&e.width&&(this._ifrLoginMaxElm.style.width=e.width+"px"),"undefined"!=typeof e.height&&e.height&&(this._ifrLoginMaxElm.style.height=e.height+"px")},_initPostMessageMinMaxLogin:function(){var t=this;window.postMessage&&(window.addEventListener?window.addEventListener("message",function(e){e.origin===t._confLoginHost&&("ready"===e.data?t._ifrLoginMinReady=!0:"ready_login_max"===e.data?t._ifrLoginMaxReady=!0:t._onPostMessageMinMaxLogin(e.data))},!1):window.attachEvent&&window.attachEvent("onmessage",function(e){e.origin===t._confLoginHost&&("ready"===e.data?t._ifrLoginMinReady=!0:"ready_login_max"===e.data?t._ifrLoginMaxReady=!0:t._onPostMessageMinMaxLogin(e.data))},!1))},_onPostMessageMinMaxLogin:function(t){if("string"==typeof t){var e=t.split("|");if(0!==e.length){var s=e[0],a=null;switch(2===e.length&&(a=e[1]),s){case"is_logged_in":this._ifrLoginMinElm.className="bsu-v2-login-min-logged-in";break;case"is_logged_out":this._ifrLoginMinElm.className="bsu-v2-login-min-logged-out";break;case"toggle_login_max":this._openCloseLoginMaxIfr();break;case"resize_login_min":this._resizeLoginMin(a);break;case"resize_login_max":this._resizeLoginMax(a)}}}},_postMessageAskForLoginMaxDims:function(){this._ifrLoginMaxReady&&this._ifrLoginMaxElm.contentWindow&&this._ifrLoginMaxElm.contentWindow.postMessage("give_me_dimensions",this._confLoginHost)},_getRetargetSegments:function(){var t=this._getCookie(this._retargetSegmentsCheckedCookie);if(!t){this._setCookie(this._retargetSegmentsCheckedCookie,!0,60*this._sasCookieTTL*60*24,"/","sapo.pt");var e=this._retargetSegmentsGlobalFunction,s=this._retargetSegmentsEndpoint+"?callback="+e,a=document.createElement("script");a.setAttribute("type","text/javascript"),a.src=s;var i=function(){try{delete window[e]}catch(t){}},n=this,o=setTimeout(i,this._retargetSegmentsTimeout);window[e]=function(t){clearTimeout(o),n._getRetargetSegmentsOnComplete(t),a.parentNode.removeChild(a),i()},this._pageHeadElm.appendChild(a)}},_getRetargetSegmentsOnComplete:function(t){if(t&&t.length&&"[object Array]"===Object.prototype.toString.call(t)){for(var e="",s=0,a=t.length;a>s;s++)e+=this._sasCookieKey+"="+t[s].replace(/[;,\s]+/g,"")+";";if(";"===e.substr(-1)){e=e.substr(0,e.length-1);var i=new Image;i.src=this._sasCookieEndpoint+"&keyword="+encodeURIComponent(e)}}},_createAppsPromotionBanner:function(t){var e;if(!this._isMobileIPhone&&!this._isMobileIPad||this._isIOSNotSafari){if(this._isMobileStoreKey in t.stores&&(e=t.stores[this._isMobileStoreKey]),e){var s=this._getCookie(this._confCookiesBanners.app.name);if(!s&&!this._isShowingBanner){this._createBannersContainer();var a=document.createElement("li");this._addClassName(a,"bsu-v2-ntf bsu-v2-ntf-app bsu-v2-has-icon");var i=['<div class="bsu-v2-ntf-app-container">','   <a href="'+e.link+'" class="bsu-v2-ntf-icon bsu-v2-tracklink" data-trackerlink="banner|link_app|store_'+this._isMobileStoreKey+'">','       <img src="'+t.icon+'" alt="'+t.name.replace(/\"/,'"')+'" />',"   </a>",'   <div class="bsu-v2-ntf-details">','       <h6 class="bsu-v2-ntf-app-name"><a href="'+e.link+'" class="bsu-v2-tracklink" data-trackerlink="banner|link_app|store_'+this._isMobileStoreKey+'">'+t.name.replace(/\"/,'"')+"</a></h6>",t.developer&&!t.promoText?'       <p class="bsu-v2-ntf-app-developer">'+t.developer+"</p>":"",t.promoText?"       <p>"+t.promoText+"</p>":"",t.price?'       <p class="bsu-v2-ntf-app-price">'+t.price+"</p>":"","   </div>",'   <a href="'+e.link+'" class="bsu-v2-ntf-view">Ver</a>',"</div>"].join("");a.innerHTML=i;var n=this;this._createBannersCloseButton(a,this._bannersContainer,function(e){n._setCookie(n._confCookiesBanners.app.name,"1",n._confCookiesBanners.app.ttl,t.basepath)}),this._bannersContainer.appendChild(a),this._isShowingBanner=!0}}}else if(e=t.stores[this._isMobileStoreKey]){var o=document.createElement("meta");o.setAttribute("name","apple-itunes-app"),o.setAttribute("content","app-id="+e.guid),this._pageHeadElm.appendChild(o)}},_normalizeStores:function(t){var e={};return"ios_iphone"in t?e.ios=t.ios_iphone:"ios_ipad"in t&&(e.ios=t.ios_ipad),"android_mobile"in t?e.android=t.android_mobile:"android_tablet"in t&&(e.android=android_tablet),"wp"in t&&(e.wp=t.wp),e.ios&&(e.ios.analyticsKey="store_ios",e.ios.img=this._confAssetsBaseURI+"/img/badge-ios.png?v="+this._confVersion,e.ios.alt="Descarregar na App Store"),e.android&&(e.android.analyticsKey="store_android",e.android.img=this._confAssetsBaseURI+"/img/badge-google-play.png?v="+this._confVersion,e.android.alt="Disponivel no Google Play"),e.wp&&(e.wp.analyticsKey="store_winphone",e.wp.img=this._confAssetsBaseURI+"/img/badge-windows-phone.png?v="+this._confVersion,e.wp.alt="Fa\xe1a download na Windows Phone Store"),e},_createStoresMarkup:function(t,e,s){var e=this._normalizeStores(e),a=document.createElement("ul");this._addClassName(a,"bsu-v2-ntf-app-badges"+(s||""));var i=[];for(var n in e)e.hasOwnProperty(n)&&i.push('<li class="bsu-v2-ntf-app-badge-'+n+(e[n]?"":" bsu-v2-ntf-app-badge-unavailable")+'">',e[n]&&e[n].link?'<a href="'+e[n].link+'" class="bsu-v2-tracklink" data-trackerlink="banner|link_deskapp'+(s||"")+"|"+e[n].analyticsKey+'"><img src="'+e[n].img+'" alt="'+e[n].alt+'" /></a>':"","</li>");return i=i.join(""),t&&(this._isMobile&&((this._isMobileAndroidPhone||this._isMobileAndroidTablet)&&this._addClassName(a,"is_android"),(this._isMobileIPad||this._isMobileIPhone)&&this._addClassName(a,"is_ios"),this._isMobileWinPhone&&this._addClassName(a,"is_winphone")),a.innerHTML=i,t.appendChild(a)),i},_createAppsPromotionPage:function(t){var e=document.getElementById("bsu-v2-app-stores");if(!e)return!1;this._createStoresMarkup(e,t.stores,"-page-container");var s=this;this._addEvent(e,"mousedown",function(t){s._onMouseDownBannersContainer(t)});for(var a,i,n=0;10>=n;n++)a=e.getAttribute("data-extra"+(0===n?"":"-"+n)),a&&(i=document.getElementById(a),i&&(this._createStoresMarkup(i,t.stores,"-page-container_"+n),this._addEvent(i,"mousedown",function(t){s._onMouseDownBannersContainer(t)})));return!0},_createAppsPromotionToDesktopBanner:function(t){var e=this._getCookie(this._confCookiesBanners.deskapp.name);if(!e&&!this._isShowingBanner){if(!e){var s=this._getCookie(this._confCookiesBanners.deskapp.nametoshow);if(!s)return void this._setCookie(this._confCookiesBanners.deskapp.nametoshow,1,this._confCookiesBanners.deskapp.ttltoshow);if(s=parseInt(s,10),isNaN(s)&&(s=0),s+=1,3>=s)return void this._setCookie(this._confCookiesBanners.deskapp.nametoshow,s,this._confCookiesBanners.deskapp.ttltoshow)}this._createBannersContainer();var a=document.createElement("li");this._addClassName(a,"bsu-v2-ntf bsu-v2-ntf-app bsu-v2-ntf-app-not-mobile bsu-v2-has-icon");var i=['<div class="bsu-v2-ntf-app-container">','   <div class="bsu-v2-ntf-icon">','       <img src="'+t.icon+'" alt="'+t.name.replace(/\"/,'"')+'" />',"   </div>",'   <div class="bsu-v2-ntf-details">','       <h6 class="bsu-v2-ntf-app-name">'+t.name+"</h6>",t.developer&&!t.promoText?'       <p class="bsu-v2-ntf-app-developer">'+t.developer+"</p>":"",t.promoText?"       <p>"+t.promoText+"</p>":"",t.price?'       <p class="bsu-v2-ntf-app-price">'+t.price+"</p>":"","   </div>",'   <ul class="bsu-v2-ntf-app-badges">',this._createStoresMarkup(null,t.stores),"   </ul>","</div>"].join("");a.innerHTML=i;var n=this;this._createBannersCloseButton(a,this._bannersContainer,function(e){n._setCookie(n._confCookiesBanners.deskapp.name,"1",n._confCookiesBanners.deskapp.ttl,t.basepath)}),this._bannersContainer.appendChild(a),this._isShowingBanner=!0}},_createAddHomeScreenBanner:function(){var t=this._getCookie(this._confCookiesBanners.homescreen.name);if(!t&&!this._isShowingBanner&&this._isMaybeInHomePage()&&(!this._isPartner||this._dataOpt.partner_add_homescreen)){if(!t){var e=this._getCookie(this._confCookiesBanners.homescreen.nametoshow);if(!e)return void this._setCookie(this._confCookiesBanners.homescreen.nametoshow,1,this._confCookiesBanners.homescreen.ttltoshow);if(e=parseInt(e,10),isNaN(e)&&(e=0),e+=1,3>=e)return void this._setCookie(this._confCookiesBanners.homescreen.nametoshow,e,this._confCookiesBanners.homescreen.ttltoshow)}var s,a="";if(this._pageHeadElm){for(var i,n,o,r,h=this._pageHeadElm.getElementsByTagName("link"),l=0,p=0,u=0,c=h.length;c>u;u++)if(i=h[u],n=i.getAttribute("rel"),"apple-touch-icon-precomposed"===n||"apple-touch-icon"===n||"icon"===n){if(o=i.getAttribute("sizes"),null!==o&&(l=parseInt(o.split("x")[0],10),isNaN(l)&&(l=0)),null!==i.getAttribute("href")&&(r=i.href),"128x128"===o){s=r;break}l>=p&&(s=r),p=l}for(var d,m,_,f=this._pageHeadElm.getElementsByTagName("meta"),g=0,b=f.length;b>g;g++)d=f[g],m=d.getAttribute("property"),null!==m&&"og:site_name"===m&&(_=d.getAttribute("content"),null!==_&&(a=_));if(""===a&&(a=document.title),s){var v;if(this._isMobileIPhone||this._isMobileIPad)v="Adiciona um atalho no teu telem&oacute;vel. Clica no &iacute;cone de partilha e depois em &quot;Adicionar ao ecr&atilde; principal&quot";else if(this._isMobileAndroidPhone||this._isMobileAndroidTablet)v="Adiciona um atalho no teu telem&oacute;vel. Selecciona &quot;Adicionar ao ecr&atilde; principal&quot; na tecla Menu";else{if(!this._isMobileWinPhone)return;v="Adiciona um atalho no teu telem&oacute;vel. Selecciona &quot;Pin to start&quot; na tecla Menu"}this._createBannersContainer();var x=document.createElement("li");this._addClassName(x,"bsu-v2-ntf bsu-v2-ntf-site-bookmark bsu-v2-has-icon");var C=['<div class="bsu-v2-ntf-site-bookmark-container">','   <div class="bsu-v2-ntf-icon">',s?'       <img src="'+s+'" alt="" />':"","   </div>",'   <div class="bsu-v2-ntf-details">','       <h6 class="bsu-v2-ntf-site-bookmark-name">'+a+"</h6>","       <p>"+v.replace(/</gi,"&lt;").replace(/>/gi,"&gt;")+"</p>","   </div>","</div>"].join("");x.innerHTML=C;var w=this;this._createBannersCloseButton(x,this._bannersContainer,function(t){w._setCookie(w._confCookiesBanners.homescreen.name,"1",w._confCookiesBanners.homescreen.ttl)}),this._bannersContainer.appendChild(x),this._isShowingBanner=!0}}}},_createGenericNotificationBanner:function(t,e){if("info"!==e&&"alert"!==e&&"warning"!==e)return!1;var s;if(t.id===this._confCookiesBanners.cookie.name){if(s=this._confCookiesBanners.cookie.name,this._checkUrlIgnoreCookieMessage())return!1}else s=this._confCookiesBanners.ntfs.name+t.id;var a=this._getCookie(s);if(a)return!1;if(!t.ignore_in_private||!this._isInPrivateMode){var i=0;if(t.country&&t.country.length)for(var n=0,o=t.country.length;o>n;n++)this._country===t.country[n]&&i++;if(0===i)return!1;if(this._isPartner&&!t.show_in_partner)return!1;if(!this._checkNotificationsInDateRange(t))return!1;if(!this._checkNotificationsIsAllowedInHost(t))return!1;this._createBannersContainer(),("alert"===e||"warning"===e)&&this._addClassName(this._bannersContainer,"urgent"),e=e.toLowerCase();var r=document.createElement("li"),h="bsu-v2-ntf bsu-v2-ntf-message bsu-v2-ntf-"+e;this._addClassName(r,h);var l=document.createElement("p");this._lang&&"object"==typeof t.lang&&this._lang in t.lang&&t.lang[this._lang]?l.innerHTML=t.lang[this._lang]:l.innerHTML=t.text,r.appendChild(l);var p=this;return this._createBannersCloseButton(r,r,function(e){var a=p._checkNotificationCookieTopDomain(t);null!==a?p._dataOpt.host_dev?p._setCookie(s,"1",parseInt(t.ttl,10)):p._setCookie(s,"1",parseInt(t.ttl,10),"/",a):p._setCookie(s,"1",parseInt(t.ttl,10))}),this._bannersContainer.appendChild(r),!0}},_checkNotificationCookieTopDomain:function(t){if(t&&t.cookie_top_domain&&t.cookie_top_domain.length)for(var e=0,s=t.cookie_top_domain.length;s>e;e++)if(this._currentPageHost.indexOf(t.cookie_top_domain[e])>-1)return t.cookie_top_domain[e];return null},_createBannersContainer:function(){if(!this._bannersContainer){this._bannersContainer=document.createElement("ul"),this._addClassName(this._bannersContainer,"bsu-v2-ntfs bsu-v2-ntfs-show"),this._container.appendChild(this._bannersContainer);var t=this;this._addEvent(this._bannersContainer,"mousedown",function(e){t._onMouseDownBannersContainer(e)})}},_createBannersCloseButton:function(t,e,s){var a=document.createElement("a");this._addClassName(a,"bsu-v2-ntf-dismiss"),a.setAttribute("href","#fechar");var i=document.createElement("span");i.appendChild(document.createTextNode("Fechar")),a.appendChild(i);var n=document.createElement("i");this._addClassName(n,"bsu-v2-icon-close"),a.appendChild(n),t.appendChild(a);var o=this;this._addEvent(a,"click",function(t){o._prevEventDefault(t),e.parentNode.removeChild(e),e===o._bannersContainer&&(o._bannersContainer=null),o._isShowingBanner=!1,s(t)})},_getAppAndNotificationsList:function(){var t=this._confAppsAndNotificationsEndpoint,e=document.createElement("script");e.setAttribute("type","text/javascript"),e.src=t;var s=this;window[this._confAppsAndNotificationsGlobalFunction]=function(t){s._getAppAndNotificationsListOnComplete(t),e.parentNode.removeChild(e);try{delete window[s._confAppsAndNotificationsGlobalFunction]}catch(a){}},this._pageHeadElm.appendChild(e)},_getAppAndNotificationsListOnComplete:function(t){if("object"==typeof t.notifications&&null!==t.notifications&&t.notifications.length>0){for(var e,s,a=!1,i=0,n=t.notifications.length;n>i;i++)e=t.notifications[i],"string"==typeof e.type&&e.type&&(s=this._createGenericNotificationBanner(e,e.type),!a&&s&&(a=!0));a&&(this._isShowingBanner=!0)}var o=this._currentPageHost;0===o.indexOf("www.")&&(o=o.replace(/^www\./i,""));var r;if("object"==typeof t.apps&&o in t.apps){var h=t.apps[o];if(h.length>0)for(var l=0,p=h.length;p>l;l++){var u=window.location.href;if(this._dataOpt&&this._dataOpt.host_dev&&(u=this._currentPageHost+window.location.pathname),u.indexOf(o+h[l].basepath)>-1){r={name:h[l].name||null,basepath:h[l].basepath||null,icon:h[l].icon||null,promoText:h[l].promoText||null,price:h[l].price||null,developer:h[l].developer||null,stores:h[l].stores};break}}}if(this._checkMobile(),r){var c=this._createAppsPromotionPage(r);this._isMobile&&r.stores[this._isMobileStoreKey]?this._createAppsPromotionBanner(r):!this._isMobile&&r&&(c||this._createAppsPromotionToDesktopBanner(r))}this._createAddHomeScreenBanner()},_onMouseDownBannersContainer:function(t){var e=t.target||t.srcElement||null;if(e=!e||3!==e.nodeType&&4!==e.nodeType?e:e.parentNode){var s=this._findUpByClass(e,"bsu-v2-tracklink");if(s){var a=s.getAttribute("data-trackerlink");if(null!==a){var i=a.split("|");i[0]?i[0]:"generic",i[1]?i[1]:"link_generic",i[2]?i[2]:"zone_generic"}}}},_checkNotificationsInDateRange:function(t){if(t&&"string"==typeof t.start_date&&"string"==typeof t.end_date){var e=new Date,s=new Date(t.start_date.replace(" ","T")),a=new Date(t.end_date.replace(" ","T"));if(s.getTime&&!isNaN(s.getTime())&&a.getTime&&!isNaN(a.getTime())){var i=e.getTime(),n=s.getTime(),o=a.getTime();if(i>n&&o>=i)return!0}return!1}return!0},_checkNotificationsIsAllowedInHost:function(t){if(t&&"undefined"!=typeof t.show_in_domains&&t.show_in_domains&&"object"==typeof t.show_in_domains&&t.show_in_domains.length){for(var e=this._currentPageHost,s=0,a=t.show_in_domains.length;a>s;s++)if(e===t.show_in_domains[s])return!0;return!1}return!0},_processFooterLinks:function(){if(!this._isPartner||this._dataOpt.with_footer){var t=document.getElementById("bsu-v2-footer-links");if(null!==t){var s,a=t.getAttribute("data-link-change");null!==a&&(s=this._parseDataAttrFooterLinks(a,"change"),s&&s.idx&&s.idx in e&&e[s.idx]&&(e[s.idx].href=s.href));var i,n;for(i=1;10>i&&(n=t.getAttribute("data-link-change-"+i),null!==n);i++)s=this._parseDataAttrFooterLinks(n,"change"),s&&s.idx&&s.idx in e&&e[s.idx]&&(e[s.idx].href=s.href);var o=[];for(var r in e)e.hasOwnProperty(r)&&o.push(e[r]);var h,l=t.getAttribute("data-link-extra");null!==l&&(h=this._parseDataAttrFooterLinks(l,"extra"),h&&o.push(h));var p;for(i=1;10>i&&(p=t.getAttribute("data-link-extra-"+i),null!==p);i++)h=this._parseDataAttrFooterLinks(p,"extra"),h&&o.push(h);for(var u,c,d,m=0,_=o.length;_>m;m++)u=o[m],c=document.createElement("li"),d=document.createElement("a"),u.text&&u.href&&(/^mailto\:.*/i.test(u.href)?d.setAttribute("href",u.href):d.setAttribute("href",u.href+this._confHashFooterAnalytics),d.setAttribute("rel","nofollow"),u.liclass&&this._addClassName(c,u.liclass),u.liclass&&c.setAttribute("id",u.liid),this._lang&&"object"==typeof u.lang&&this._lang in u.lang&&u.lang[this._lang]?d.innerHTML=u.lang[this._lang]:d.innerHTML=u.text,c.appendChild(d),t.appendChild(c))}}},_parseDataAttrFooterLinks:function(t,e){var s=t.split("|"),a={};if("change"===e){if(2!==s.length)return;return a.idx=s[0].toLowerCase(),a.href=s[1],a}if("extra"===e){if(s.length<2)return;var i=s[0]?s[0]:"",n=s[1]?s[1]:"";if(i&&n)return a.text=n,a.href=i,a.liclass=s[2]?s[2]:"",a.liid=s[3]?s[3]:"",a}return!1},_processFooterSapo:function(){if(!this._dataOpt.nofooter&&(!this._isPartner||this._dataOpt.with_footer)){var t=document.getElementById("bsu-v2-footer");if(null!==t){var e=t.getAttribute("data-bg");"dark"!==e&&(e="light");var a=t.getAttribute("data-ink");null!==a&&(a=!0),this._addClassName(t,"bsu-v2-footer-"+e);var i=document.createElement("a");if(this._addClassName(i,"bsu-v2-footer-logo"),i.setAttribute("href","http://www.sapo."+this._country+this._confHashFooterAnalytics),i.setAttribute("rel","nofollow"),i.appendChild(document.createTextNode("SAPO")),a){var n=document.createElement("a");this._addClassName(n,"bsu-v2-footer-ink"),n.setAttribute("href","http://ink.sapo.pt/"+this._confHashFooterAnalytics),n.setAttribute("rel","nofollow"),n.appendChild(document.createTextNode("Made with Ink"))}var o=document.createElement("p");this._addClassName(o,"bsu-v2-footer-text"),this._lang&&"object"==typeof s.lang&&this._lang in s.lang&&s.lang[this._lang]?o.innerHTML=s.lang[this._lang].replace("www.sapo.pt","www.sapo."+this._country):o.innerHTML=s.text.replace("www.sapo.pt","www.sapo."+this._country),t.appendChild(i),a&&t.appendChild(n),t.appendChild(o)}}},_checkPrivateMode:function(){try{if(!window.localStorage||!/Safari/.test(window.navigator.userAgent))return;try{localStorage.setItem("bsu-v2-checkprivate","1")}catch(t){this._isInPrivateMode=!0}this._isInPrivatemode&&localStorage.removeItem("bsu-v2-checkprivate")}catch(t){}},_checkUrlIgnoreCookieMessage:function(){var t=window.location.href;return/_ckiemsg=1/i.test(t)?!0:!1},_checkMobile:function(){this._isMobile=!1,this._isMobileIPhone=!1,this._isMobileIPad=!1,this._isMobileAndroidPhone=!1,this._isMobileAndroidTablet=!1,this._isMobileWinPhone=!1,this._isIOSNotSafari=!1,this._isMobileStoreKey=!1,navigator.userAgent.match(/(iPhone|iPod)/i)?(this._isMobile=!0,this._isMobileIPhone=!0,this._isMobileStoreKey="ios_iphone",navigator.userAgent.match("CriOS")&&(this._isIOSNotSafari=!0)):navigator.userAgent.match(/iPad/i)?(this._isMobile=!0,this._isMobileIPad=!0,this._isMobileStoreKey="ios_ipad",navigator.userAgent.match("CriOS")&&(this._isIOSNotSafari=!0)):navigator.userAgent.match(/(Android.*Mobile|Mobile.*Android)/i)?(this._isMobile=!0,this._isMobileAndroidPhone=!0,this._isMobileStoreKey="android_mobile"):navigator.userAgent.match(/Android/i)?(this._isMobile=!0,this._isMobileAndroidTablet=!0,this._isMobileStoreKey="android_tablet"):navigator.userAgent.match(/IEMobile/i)&&(this._isMobile=!0,this._isMobileWinPhone=!0,this._isMobileStoreKey="wp")},_checkHasTouch:function(){return"ontouchstart"in window?!0:!1},_addTouchClassToContainer:function(){this._checkHasTouch()||this._addClassName(this._container,"bsu-v2-no-touch")},_getCookie:function(t){var e=document.cookie||!1,s={};if(e){e=e.replace(new RegExp("; ","g"),";");var a=e.split(";"),i=[];if(a.length>0)for(var n=0;n<a.length;n++)i=a[n].split("="),2===i.length&&(s[i[0]]=decodeURIComponent(i[1])),i=[];return t?t in s?s[t]:null:s}},_setCookie:function(t,e,s,a,i){if(t&&e){var n,o,r,h;if(n=encodeURIComponent(t)+"="+encodeURIComponent(e),s){var l=new Date;l.setTime(l.getTime()+1e3*s),o="; expires="+l.toUTCString()}else o="";r=i?"; domain="+i:"; domain="+window.location.host;var p=new RegExp(":([^;]+)");r=r.replace(p,""),h=a?"; path="+a:"; path=/",document.cookie=n+o+r+h}},_parsePostMessageActionValue:function(t){var e={};if(t.length>0)for(var s=t.split(/[;&]/),a=0;a<s.length;a++){var i=s[a].split("=");e[decodeURIComponent(i[0])]="undefined"!=typeof i[1]&&i[1]?decodeURIComponent(i[1]):!1}return e},_registerAnalytics:function(t,e){},_addClassName:function(t,e){if(!t||!e)return null;e=(""+e).split(/[, ]+/);for(var s=0,a=e.length;a>s;s++)e[s].replace(/^\s+|\s+$/g,"")&&("undefined"!=typeof t.classList?t.classList.add(e[s]):this._hasClassName(t,e[s])||(t.className+=(t.className?" ":"")+e[s]))},_removeClassName:function(t,e){if(!t||!e)return null;e=(""+e).split(/[, ]+/);var s=0,a=e.length;if("undefined"!=typeof t.classList)for(;a>s;s++)t.classList.remove(e[s]);else{for(var i,n=t.className||"";a>s;s++)i=new RegExp("(^|\\s+)"+e[s]+"(\\s+|$)"),n=n.replace(i," ");t.className=n.replace(/^\s+/,"").replace(/\s+$/,"")}},_hasClassName:function(t,e,s){e=(""+e).split(/[, ]+/);for(var a,i,n=0,o=e.length;o>n;n++){if("undefined"!=typeof t.classList)a=t.classList.contains(e[n]);else{var r=t.className;r===e[n]?a=!0:(i=new RegExp("(^|\\s)"+e[n]+"(\\s|$)"),a=i.test(r))}if(a&&!s)return!0;if(!a&&s)return!1}return s?!0:!1},_addEvent:function(t,e,s){t&&e&&s&&(t.addEventListener?t.addEventListener(e,s,!1):t.attachEvent&&t.attachEvent("on"+e,s))},_prevEventDefault:function(t){t&&(t.preventDefault&&t.preventDefault(),window.attachEvent&&(t.returnValue=!1),null!==t.cancel&&(t.cancel=!0))},_findUpByClass:function(t,e){for(;t&&1===t.nodeType;){if(this._hasClassName(t,e))return t;t=t.parentNode}return!1},_debug:function(){}},new a}();